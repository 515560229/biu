# Web版IT助手

## 1. 通用功能
1. 支持模板（动态）参数。模板参数表示为：${username}。其中username为参数名。
1. 参数需要在新增时定义；在使用时输入该参数具体的值来实现按动态参数来执行。
2. 值可以是内置的函数表达式。内置函数请参考菜单：文档说明 > 自定义函数
1. 值可以设定默认的。默认值可以和函数表达式一起使用。如：订单号需要按一些格式生成且具有唯一性，又不想每次人为的来填写这个订单号。
1. 大部分的功能页下方可以看到1-15字样的标签页。这种标签页的目的是保留最近的历史结果。
1. 转义功能说明：json套json字符串时会有很多的\",\\"，转义后会自动去掉。xml中套xml字符串可能会有&lt;字样，也会去掉。转义完成后再美化显示。
1. 如果编辑和删除按钮显示灰色，则表示无权限操作。该条记录必须是自已创建的才能修改或删除。暂不支持转移权限。

## 2. 全局变量
该功能用于创建一些变量的配置，比如: 每个应用的http host and port  
可用于其它界面引用该变量，在运行时使用该项的值。

## 3. MySQL
### 数据源
定义好数据源后，就可以给SQL功能使用啦。

### SQL
1. 开发、测试、查问题、看数据的过程中，经常会用到一些常用的SQL。那么，把它存起来作为常用SQL共享给其他人用吧。  
1. 支持新增、修改、查询、执行、复制、重置标签页

#### 新增
可以新增模板SQL。

#### 修改
新增完成后，可以根据需要修改。

#### 查询
根据根据关键字来查询，多个关键字可以用空格隔开，多个关键字的查询关系是and。比如：查询 我的，将会查询所有包含"查询"并且包含"我的"的记录。

#### 执行
输入参数后（若有），则可以执行该SQL。  
执行成功后，下面会展示执行的SQL语句及结果集。

#### 复制
快速新增的方式。根据原有的SQL来新增。

#### 重置标签页
系统内置了15个标签页，执行的结果会依次递增，并循环使用下面的标签页显示。  
比如第1次查询使用1号标签页，第2次查询使用2号标签页。  
更方便的来找到你上次执行的结果集。如果只使用1个结果页来显示的话，就会导致第2次执行的结果集覆盖了第1次的结果集。

## 4. 接口调用
### 4.1 HTTP
1. 开发、测试、排查问题过程中，经常会想快速调用一下接口来查询或写入数据。那么，把它存起来作为常用HTTP共享给其他人用吧。  
1. 这里还可以支持调用dubbo RPC接口哟。原理是：http协议转dubbo调用到目标RPC接口
1. 支持新增、修改、查询、执行、复制、重置标签页

dubboRPC调用注意事项：
1. 请求方法必须为POST
2. 请求URL为搭建的proxy地址。如：http://ip:port/dubboRpcProxy
3. 请求头： Content-Type=application/json
4. 请求体说明。

```json
{
  "url": "dubbo://${dubboHost}",//调用dubbo的目标url。如：dubbo://10.112.1.1:20880  暂不支持注册中心的协议。
  "group": "${group}",//目标dubbo的group
  "interfaceName": "com.sf.sgs.pickup.client.rpc.order.IPickupNcxOrderService",//目标dubbo export的接口全限定名
  "methodName": "ncxNewOrderMatchCallback",//目标dubbo export接口的方法
  //这里是参数类型列表,类型的全限定名
  "parameterTypes": [
    "com.xxx.xxx.xxx"
  ],
  //这里是参数列表，对应方法的参数，用json格式表示
  "parameters": [
    {
      "username": "张三"
    }
  ]
}
```

### 4.2 WS
1. 支持WebService的调用。  
2. 请求地址填写wsdl的地址。
3. 输入wsdl地址后，会自动带出operation列表，需要选择其中一个。
4. 选择operation后会自动生成样本的请求体。

## 5. Kafka
1. 支持从Kafka读取或写入信息
2. 系统会自动同步Kafka集群的所有主题。前提是Kafka集群信息已在后台配置。请联系管理员配置。
3. 在读取或写入时的界面上的主题格式为"集群名称"."主题名称"。


